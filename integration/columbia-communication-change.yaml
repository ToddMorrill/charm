name: columbia-communication-change
version: 0.2
poc:
  email: tm3229@columbia.edu
  name: Todd Morrill
description: |
  This container runs a change point detection system that uses a Hugging Face 
  sentiment classifier. Utterance level of predictions are then grouped into 8
  segment chunks and the average of the first 4 segment scores are compared to
  the last 4 segment scores. If these averages differ by a predefined threshold
  then the system produces a change point. The backend of this system is running
  on a hosted server with a GPU.
testingInstructions: |
  There are seven test files and accompanying test output files. The last of which contains tests for wrong messages
  with more information at test_frontend.txt the files are the following:
    - ./transcripts/text_M01000FLX_input.jsonl -> ./transcripts/text_M01000FLX_output.jsonl
    - ./transcripts/audio_M01000537_input.jsonl -> ./transcripts/audio_M01000537_output.jsonl
    - ./transcripts/video_M010009A4_input.jsonl -> ./transcripts/video_M010009A4_output.jsonl
    - ./transcripts/text_M01000FLY_input_translation.jsonl -> ./transcripts/text_M01000FLY_output_translation.jsonl
    - ./transcripts/audio_M01000538_input_translation.jsonl -> ./transcripts/audio_M01000538_output_translation.jsonl
    - ./transcripts/video_M010009BC_input_translation.jsonl -> ./transcripts/video_M010009BC_output_translation.jsonl
resources:
  - CPU
  - Internet
inputs:
  - RESULT:
    - asr_result
    - translation
outputs:
  - RESULT:
    - change_point
latency: {add 0.04}
trainingLanguage:
  - zh
dockerCompose:
  image: cirano-docker.cse.sri.com/columbia-communication-change
  environment:
    - MODEL_SERVICE=3.225.204.208
    - MODEL_PORT=8000
    - RANDOM_ERROR=0